<div class="content-wrapper">
  <!-- Page Section -->
  <section class="page-section">
    <div class="container">

      <div class="section-title-wrapper">
        <div class="section-title-inner">
          <h1 class="section-title section-title__lg">My Account</h1>
        </div>
      </div>

      <fieldset>
        <legend>Change account info</legend>
          <div class="alert alert-danger" ng-show="profleUpdateMsg">
          {{ profleUpdateMsg }}
          </div>
        
        <form ng-show="!success" name="form" role="form" novalidate ng-submit="accountUpdate()" show-validation>
          <div class="row">
            <div class="col-md-6 col-md-offset-3">
              <div class="form-group">
                <label>E-mail</label>
                <input type="email" class="form-control" name="email" placeholder="E-mail" ng-model="updateAccount.email" ng-minlength=5 ng-maxlength=100 required  ng-readonly="true"/>
                <div ng-show="form.email.$dirty && form.email.$invalid">
                  <p class="help-block" ng-show="form.email.$error.required" translate="global.messages.validate.email.required">
                    Your e-mail is required.
                  </p>
                  <p class="help-block" ng-show="form.email.$error.email" translate="global.messages.validate.email.invalid">
                    Your e-mail is invalid.
                  </p>
                  <p class="help-block" ng-show="form.email.$error.minlength" translate="global.messages.validate.email.minlength">
                    Your e-mail is required to be at least 5 characters
                  </p>
                  <p class="help-block" ng-show="form.email.$error.maxlength" translate="global.messages.validate.email.maxlength">
                    Your e-mail cannot be longer than 100 characters
                  </p>
                </div>
              </div>
              <div class="form-group">
                <label>Full Name</label>
                <input type="text" class="form-control" name="fullName" placeholder="Full name" ng-model="account.fullName" ng-minlength=2 ng-maxlength=80 ng-pattern="/^[a-zA-Z\- ]*$/" required />
                <div ng-show="form.fullName.$dirty && form.fullName.$invalid">
                  <p class="help-block" ng-show="form.fullName.$error.required">
                    Your name is required.
                  </p>
                  <p class="help-block" ng-show="form.fullName.$error.minlength">
                    Your name is required to be at least 2 characters
                  </p>
                  <p class="help-block" ng-show="form.fullName.$error.maxlength">
                    Your name cannot be longer than 80 characters
                  </p>
                  <p class="help-block" ng-show="form.fullName.$error.pattern">
                    Your name can only contain letters and hyphens
                  </p>
                </div>
              </div>           

              <div class="form-group">
                <div class="gap-20 visible-xs visible-sm"></div>
                <button type="submit" class="btn btn-primary btn-lg btn-block" ng-disabled="form.$invalid">Update Account</button>
              </div>
            </div>
          </div>
        </form>
      </fieldset>

      <fieldset>
        <legend>Change password</legend>
        <div class="alert alert-danger" ng-show="noCurrentPsw">
          Current password is mandatory to change the password.
        </div>

        <div class="alert alert-danger" ng-show="pswUpdateMsg">
          {{ pswUpdateMsg }}
        </div>
        
        <div class="alert alert-danger" ng-show="doNotMatch">
          The new password and its confirmation do not match!
        </div>
        <form ng-show="!success" name="pswform" role="pswform" novalidate ng-submit="changePassword()" show-validation>
          <div class="row">
            <div class="col-md-6 col-md-offset-3">
              <div class="form-group">
                <label>Current password</label>
                <input type="password" class="form-control" name="currentPassword" placeholder="Current password" ng-model="account.currentPassword" required>
              </div>

              <div class="form-group">
                <label>New password</label>
                <input type="password" class="form-control" name="password" placeholder="New password" ng-model="account.newPassword" ng-minlength=5 ng-maxlength=50 required>
                <div ng-show="pswform.password.$dirty && pswform.password.$invalid">
                  <p class="help-block" ng-show="pswform.password.$error.required">
                    Your password is required.
                  </p>
                  <p class="help-block" ng-show="pswform.password.$error.minlength">
                    Your password is required to be at least 5 characters
                  </p>
                  <p class="help-block" ng-show="pswform.password.$error.maxlength">
                    Your password cannot be longer than 50 characters
                  </p>
                </div>
                <password-strength-bar password-to-check="account.newPassword"></password-strength-bar>
              </div>

              <div class="form-group">
                <label>New password confirmation</label>
                <input type="password" class="form-control" name="confirmPassword" placeholder="Confirm new password" ng-model="account.confirmPassword" ng-minlength=5 ng-maxlength=50 required>
                <div ng-show="pswform.confirmPassword.$dirty && pswform.confirmPassword.$invalid">
                  <p class="help-block" ng-show="pswform.confirmPassword.$error.required">
                    Your password is required.
                  </p>
                  <p class="help-block" ng-show="pswform.confirmPassword.$error.minlength">
                    Your password is required to be at least 5 characters
                  </p>
                  <p class="help-block" ng-show="pswform.confirmPassword.$error.maxlength">
                    Your password cannot be longer than 50 characters
                  </p>
                </div>
              </div>

              <div class="form-group">
                <div class="gap-20 visible-xs visible-sm"></div>
                <button type="submit" class="btn btn-primary btn-lg btn-block" ng-disable="pswform.$invalid">Change password</button>
              </div>
            </div>
          </div>
        </form>
      </fieldset>

    </div>
  </section>
  <!-- Page Section / End -->
</div>